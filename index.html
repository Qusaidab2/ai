<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Generated Image — Demo Index</title>
  <style>
    :root{--bg:#0f172a;--card:#0b1220;--accent:#7c3aed}
    body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial;background:linear-gradient(180deg,#020617 0%,#071237 100%);color:#e6eef8;display:flex;align-items:center;justify-content:center;min-height:100vh}
    .wrap{width:min(980px,93vw);background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border-radius:16px;padding:26px;box-shadow:0 10px 30px rgba(2,6,23,0.6)}
    header{display:flex;align-items:center;gap:16px}
    h1{margin:0;font-size:20px}
    p{margin:6px 0 18px;color:#9fb0d6}
    .canvas-holder{background:var(--card);padding:18px;border-radius:12px;display:grid;grid-template-columns:1fr 300px;gap:16px}
    .art{display:flex;align-items:center;justify-content:center;padding:12px;border-radius:8px;background:linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));}
    svg{max-width:100%;height:auto;border-radius:8px}

    .controls{display:flex;flex-direction:column;gap:12px;padding:12px}
    button{background:transparent;border:1px solid rgba(255,255,255,0.08);padding:10px;border-radius:10px;color:inherit;cursor:pointer}
    .btn-primary{background:linear-gradient(90deg,var(--accent),#4f46e5);box-shadow:0 6px 18px rgba(124,58,237,0.18);border:none}
    .small{font-size:13px;padding:8px}
    footer{margin-top:14px;color:#9fb0d6;font-size:13px}
    @media (max-width:880px){.canvas-holder{grid-template-columns:1fr;}
      .controls{flex-direction:row;flex-wrap:wrap}}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <svg width="40" height="40" viewBox="0 0 24 24" fill="none"><rect x="2" y="2" width="20" height="20" rx="6" fill="#7c3aed"/></svg>
      <div>
        <h1>Index Demo — Inline Generated Picture</h1>
        <p>Below is an automatically generated SVG picture embedded directly inside the HTML. You can download it as PNG.</p>
      </div>
    </header>

    <div class="canvas-holder">
      <div class="art">
        <!-- Inline generated SVG: a layered abstract scene -->
        <svg id="generatedSVG" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Abstract generated art">
          <defs>
            <linearGradient id="g1" x1="0" x2="1">
              <stop offset="0%" stop-color="#7c3aed" stop-opacity="1" />
              <stop offset="100%" stop-color="#06b6d4" stop-opacity="1" />
            </linearGradient>
            <linearGradient id="g2" x1="0" x2="1">
              <stop offset="0%" stop-color="#0ea5a4" stop-opacity="0.9" />
              <stop offset="100%" stop-color="#3b82f6" stop-opacity="0.9" />
            </linearGradient>
            <filter id="blur" x="-20%" y="-20%" width="140%" height="140%">
              <feGaussianBlur stdDeviation="30"/>
            </filter>
          </defs>

          <rect width="800" height="500" fill="#061028" rx="12"/>

          <!-- soft glowing blobs -->
          <g filter="url(#blur)">
            <ellipse cx="200" cy="140" rx="170" ry="90" fill="url(#g1)" opacity="0.22" />
            <ellipse cx="500" cy="120" rx="150" ry="100" fill="url(#g2)" opacity="0.18" />
            <ellipse cx="420" cy="340" rx="230" ry="120" fill="#0ea5a4" opacity="0.08" />
          </g>

          <!-- geometric shapes -->
          <g transform="translate(0,0)">
            <path d="M120 360 C220 280 360 300 460 340 C560 380 680 360 720 320 L720 420 L80 420 Z" fill="#0b1220" opacity="0.5" />
            <circle cx="600" cy="180" r="48" fill="url(#g1)" opacity="0.95" />
            <rect x="80" y="80" width="160" height="160" rx="28" fill="#0b1220" opacity="0.25" transform="rotate(-12 160 160)"/>
          </g>

          <!-- accent lines -->
          <g stroke="white" stroke-opacity="0.12" stroke-width="2" fill="none">
            <path d="M60 420 Q200 300 380 420"/>
            <path d="M140 60 L720 60" stroke-opacity="0.06"/>
          </g>

          <!-- foreground 'symbol' -->
          <g transform="translate(260,170)">
            <path d="M120 0 C80 30 40 80 60 130 C80 180 140 190 200 170 C260 150 300 100 280 60 C260 20 180 -10 120 0 Z" fill="url(#g1)" opacity="0.98" />
            <circle cx="170" cy="80" r="12" fill="#fff" opacity="0.9" />
          </g>

          <text x="28" y="480" font-family="Verdana, Geneva, sans-serif" font-size="12" fill="#9fb0d6">Generated SVG • edit colors in the page</text>
        </svg>
      </div>

      <div class="controls">
        <button id="regen" class="small">Regenerate (randomize)</button>
        <button id="toggleExternal" class="small">Show external image instead</button>
        <button id="download" class="btn-primary small">Download as PNG</button>
        <div style="font-size:13px;color:#9fb0d6">Tip: This demo embeds the picture; no external file needed.</div>
      </div>
    </div>

    <footer>
      This index.html includes a generated inline SVG. You can copy this single file to any web server or open it locally in your browser.
    </footer>
  </div>

<script>
  // Simple randomize: tweak gradient stops and blob positions
  function rand(min,max){return Math.floor(Math.random()*(max-min+1))+min}
  document.getElementById('regen').addEventListener('click',()=>{
    const g1Stops = document.querySelectorAll('#g1 stop');
    const g2Stops = document.querySelectorAll('#g2 stop');
    // random colors
    g1Stops[0].setAttribute('stop-color',`hsl(${rand(200,320)} 85% 55%)`);
    g1Stops[1].setAttribute('stop-color',`hsl(${rand(160,220)} 85% 45%)`);
    g2Stops[0].setAttribute('stop-color',`hsl(${rand(140,200)} 85% 45%)`);
    g2Stops[1].setAttribute('stop-color',`hsl(${rand(200,260)} 85% 50%)`);
    // move blobs
    const ellipses = document.querySelectorAll('ellipse');
    ellipses.forEach((el,i)=>{
      el.setAttribute('cx', rand(120,620));
      el.setAttribute('cy', rand(80,380));
      el.setAttribute('rx', rand(80,260));
      el.setAttribute('ry', rand(50,130));
    });
  });

  // Toggle to an external image (example) — this demonstrates using an <img> fallback
  let showingExternal=false;
  document.getElementById('toggleExternal').addEventListener('click',()=>{
    const art = document.querySelector('.art');
    if(!showingExternal){
      // replace SVG with an external image element
      art.dataset.old = art.innerHTML;
      art.innerHTML = '<img src="https://picsum.photos/800/500" alt="External sample image">';
      document.getElementById('toggleExternal').textContent='Show generated SVG'
    } else {
      art.innerHTML = art.dataset.old || document.getElementById('generatedSVG').outerHTML;
      document.getElementById('toggleExternal').textContent='Show external image instead'
    }
    showingExternal=!showingExternal;
  });

  // Download SVG as PNG via canvas
  document.getElementById('download').addEventListener('click',async()=>{
    const svg = document.getElementById('generatedSVG');
    const svgData = new XMLSerializer().serializeToString(svg);
    const svgBlob = new Blob([svgData], {type:'image/svg+xml;charset=utf-8'});
    const url = URL.createObjectURL(svgBlob);
    const img = new Image();
    img.onload = function(){
      const canvas = document.createElement('canvas');
      canvas.width = img.width;
      canvas.height = img.height;
      const ctx = canvas.getContext('2d');
      ctx.fillStyle = '#061028';
      ctx.fillRect(0,0,canvas.width,canvas.height);
      ctx.drawImage(img,0,0);
      URL.revokeObjectURL(url);
      const png = canvas.toDataURL('image/png');
      const a = document.createElement('a');
      a.href = png; a.download = 'generated-art.png';
      document.body.appendChild(a); a.click(); a.remove();
    }
    img.crossOrigin = 'anonymous';
    img.src = url;
  });
</script>
</body>
</html>
